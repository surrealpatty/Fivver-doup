{"version":3,"sources":["../../../src/middlewares/tierMiddleware.ts"],"sourcesContent":["// src/middlewares/tierMiddleware.ts\r\nimport { Request, Response, NextFunction } from 'express';\r\n\r\nexport const checkPaidTier = (req: Request, res: Response, next: NextFunction): void => {\r\n  const user = req.user; // Assuming user is set by the authenticateJWT middleware\r\n\r\n  if (!user || user.tier !== 'paid') {\r\n    // Send a 403 response if the user does not have a paid tier\r\n    res.status(403).json({ message: 'User does not have a paid tier.' });\r\n    return; // Explicitly return here to stop execution\r\n  }\r\n\r\n  // If the user has a paid tier, move to the next middleware/handler\r\n  next();  // Proceed to the next middleware\r\n};\r\n"],"names":["checkPaidTier","req","res","next","user","tier","status","json","message"],"mappings":"AAAA,oCAAoC;;;;;+BAGvBA;;;eAAAA;;;AAAN,MAAMA,gBAAgB,CAACC,KAAcC,KAAeC;IACzD,MAAMC,OAAOH,IAAIG,IAAI,EAAE,yDAAyD;IAEhF,IAAI,CAACA,QAAQA,KAAKC,IAAI,KAAK,QAAQ;QACjC,4DAA4D;QAC5DH,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;YAAEC,SAAS;QAAkC;QAClE,QAAQ,2CAA2C;IACrD;IAEA,mEAAmE;IACnEL,QAAS,iCAAiC;AAC5C"}