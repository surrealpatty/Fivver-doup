{"version":3,"sources":["../../../src/middlewares/tierMiddleware.ts"],"sourcesContent":["import { Request, Response, NextFunction } from 'express';\r\n\r\n/**\r\n * Middleware to restrict access based on user tier.\r\n * @param requiredTier The required tier for access (e.g., \"paid\").\r\n */\r\nexport const checkTier = (requiredTier: string) => {\r\n  return (req: Request, res: Response, next: NextFunction): void => {\r\n    if (req.user?.tier !== requiredTier) {\r\n      res.status(403).json({ message: `Access restricted to ${requiredTier} users only.` });\r\n      return;\r\n    }\r\n    next();\r\n  };\r\n};\r\n"],"names":["checkTier","requiredTier","req","res","next","user","tier","status","json","message"],"mappings":";;;;+BAMaA;;;eAAAA;;;AAAN,MAAMA,YAAY,CAACC;IACxB,OAAO,CAACC,KAAcC,KAAeC;QACnC,IAAIF,IAAIG,IAAI,EAAEC,SAASL,cAAc;YACnCE,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;gBAAEC,SAAS,CAAC,qBAAqB,EAAER,aAAa,YAAY,CAAC;YAAC;YACnF;QACF;QACAG;IACF;AACF"}