{"version":3,"sources":["../../../src/test/setup.ts"],"sourcesContent":["import { sequelize } from '../config/database'; // Ensure this is correctly imported\r\n\r\n/**\r\n * Global setup for environment variables or mock configurations.\r\n */\r\nbeforeAll(() => {\r\n  // Set up mock environment variables\r\n  process.env.JWT_SECRET = 'mock-secret-key'; // Mock JWT secret key for testing\r\n  // Other environment variables can be set here if needed\r\n  console.log('Setting up before all tests...');\r\n});\r\n\r\n/**\r\n * Reset mocks to ensure no state leaks between tests.\r\n */\r\nafterEach(() => {\r\n  jest.clearAllMocks(); // Clears all mock calls and resets mock states after each test\r\n});\r\n\r\n/**\r\n * Clean-up tasks after all tests have run.\r\n */\r\nafterAll(async () => {\r\n  console.log('Cleaning up after all tests...');\r\n  \r\n  // Ensure the mock DB connection is properly closed\r\n  try {\r\n    await sequelize.close(); // Ensure sequelize connection is closed asynchronously\r\n    console.log('Sequelize connection closed.');\r\n  } catch (error) {\r\n    console.error('Error closing sequelize connection:', error);\r\n  }\r\n});\r\n\r\n// Ensure Jest global functions are available for all tests\r\nimport '@jest/globals'; // Import Jest globals to ensure they are available globally in tests\r\n"],"names":["beforeAll","process","env","JWT_SECRET","console","log","afterEach","jest","clearAllMocks","afterAll","sequelize","close","error"],"mappings":";;;;0BAA0B;QAmCnB;AAjCP;;CAEC,GACDA,UAAU;IACR,oCAAoC;IACpCC,QAAQC,GAAG,CAACC,UAAU,GAAG,mBAAmB,kCAAkC;IAC9E,wDAAwD;IACxDC,QAAQC,GAAG,CAAC;AACd;AAEA;;CAEC,GACDC,UAAU;IACRC,KAAKC,aAAa,IAAI,+DAA+D;AACvF;AAEA;;CAEC,GACDC,SAAS;IACPL,QAAQC,GAAG,CAAC;IAEZ,mDAAmD;IACnD,IAAI;QACF,MAAMK,mBAAS,CAACC,KAAK,IAAI,uDAAuD;QAChFP,QAAQC,GAAG,CAAC;IACd,EAAE,OAAOO,OAAO;QACdR,QAAQQ,KAAK,CAAC,uCAAuCA;IACvD;AACF;CAGwB,qEAAqE"}