{"version":3,"sources":["../../../src/services/emailService.ts"],"sourcesContent":["// src/services/emailService.ts\r\n\r\nimport nodemailer from 'nodemailer';\r\n\r\n// Create a transporter object using SMTP transport (Gmail in this case)\r\nconst transporter = nodemailer.createTransport({\r\n  service: 'gmail', // You can change this to another email service if needed\r\n  auth: {\r\n    user: process.env.EMAIL_USER, // Your email address from the .env file\r\n    pass: process.env.EMAIL_PASSWORD, // Your email password or application-specific password from .env\r\n  },\r\n});\r\n\r\n// Define the sendEmail function to send emails\r\nexport const sendEmail = async (emailDetails: { to: string, subject: string, text: string }) => {\r\n  try {\r\n    // Set up email options\r\n    const mailOptions = {\r\n      from: process.env.EMAIL_USER, // Sender's email\r\n      to: emailDetails.to,         // Recipient's email\r\n      subject: emailDetails.subject, // Subject of the email\r\n      text: emailDetails.text,       // Email body text\r\n    };\r\n\r\n    // Send the email and return the result\r\n    const info = await transporter.sendMail(mailOptions);\r\n    console.log('Email sent: ', info.response);\r\n  } catch (error) {\r\n    console.error('Error sending email:', error);\r\n    throw error; // Re-throw the error to be handled in the route or elsewhere\r\n  }\r\n};\r\n"],"names":["sendEmail","transporter","nodemailer","createTransport","service","auth","user","process","env","EMAIL_USER","pass","EMAIL_PASSWORD","emailDetails","mailOptions","from","to","subject","text","info","sendMail","console","log","response","error"],"mappings":"AAAA,+BAA+B;;;;;+BAclBA;;;eAAAA;;;mEAZU;;;;;;AAEvB,wEAAwE;AACxE,MAAMC,cAAcC,mBAAU,CAACC,eAAe,CAAC;IAC7CC,SAAS;IACTC,MAAM;QACJC,MAAMC,QAAQC,GAAG,CAACC,UAAU;QAC5BC,MAAMH,QAAQC,GAAG,CAACG,cAAc;IAClC;AACF;AAGO,MAAMX,YAAY,OAAOY;IAC9B,IAAI;QACF,uBAAuB;QACvB,MAAMC,cAAc;YAClBC,MAAMP,QAAQC,GAAG,CAACC,UAAU;YAC5BM,IAAIH,aAAaG,EAAE;YACnBC,SAASJ,aAAaI,OAAO;YAC7BC,MAAML,aAAaK,IAAI;QACzB;QAEA,uCAAuC;QACvC,MAAMC,OAAO,MAAMjB,YAAYkB,QAAQ,CAACN;QACxCO,QAAQC,GAAG,CAAC,gBAAgBH,KAAKI,QAAQ;IAC3C,EAAE,OAAOC,OAAO;QACdH,QAAQG,KAAK,CAAC,wBAAwBA;QACtC,MAAMA,OAAO,6DAA6D;IAC5E;AACF"}